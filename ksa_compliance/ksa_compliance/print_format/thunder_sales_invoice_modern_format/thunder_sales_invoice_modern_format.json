{
    "print_format_for": "DocType",
    "absolute_value": 0,
    "align_labels_right": 0,
    "creation": "2026-02-07 01:25:00.000000",
    "css": " @page { margin: 0; size: A4; } \nbody {\n    font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    color: #2c3e50;\n    font-size: 11px;\n    margin: 0;\n    background: #f4f6f9;\n    -webkit-print-color-adjust: exact !important;\n    print-color-adjust: exact !important;\n}\n.invoice-wrapper {\n    padding: 40px;\n    max-width: 210mm;\n    margin: 0 auto;\n}\n.invoice-card {\n    background: #fff;\n    border-radius: 8px;\n    box-shadow: 0 10px 30px rgba(0,0,0,0.05);\n    overflow: hidden;\n    position: relative;\n}\n\n/* Header Section */\n.header-bg {\n    background: linear-gradient(135deg, #1a237e 0%, #283593 100%);\n    color: #fff;\n    padding: 40px 40px 60px 40px;\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    position: relative;\n}\n.header-bg::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 40px;\n    background: #fff;\n    border-top-left-radius: 30px;\n    border-top-right-radius: 30px;\n}\n.company-info h1 {\n    margin: 0;\n    font-size: 24px;\n    font-weight: 700;\n    letter-spacing: 0.5px;\n}\n.company-info .vat-no {\n    opacity: 0.8;\n    font-size: 12px;\n    margin-top: 5px;\n}\n.invoice-title {\n    text-align: right;\n}\n.invoice-title h2 {\n    margin: 0;\n    font-size: 32px;\n    font-weight: 800;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    opacity: 0.2;\n}\n.invoice-status {\n    font-size: 14px;\n    font-weight: 600;\n    text-transform: uppercase;\n    background: rgba(255,255,255,0.2);\n    padding: 4px 12px;\n    border-radius: 20px;\n    display: inline-block;\n    margin-top: 10px;\n}\n\n@media print {\\n    .header-bg {\\n        -webkit-print-color-adjust: exact !important;\\n        print-color-adjust: exact !important;\\n        color: #ffffff !important;\\n    }\\n    .header-bg h1, .header-bg h2, .header-bg .vat-no, .header-bg .invoice-status {\\n        color: #ffffff !important;\\n        opacity: 1 !important;\\n    }\\n    .company-info .vat-no {\\n        opacity: 0.8 !important;\\n        color: #ffffff !important; \\n    }\\n    .invoice-title h2 {\\n        opacity: 0.25 !important; \\n        color: #ffffff !important;\\n    }\\n}\\n\\n/* Content Body */\n.content-body {\n    padding: 0 40px 40px 40px;\n    margin-top: -20px;\n    position: relative;\n    z-index: 2;\n}\n\n/* Info Grid */\n.info-grid {\n    display: flex;\n    gap: 30px;\n    margin-bottom: 30px;\n}\n.info-card {\n    flex: 1;\n    background: #fff;\n    border: 1px solid #edf2f7;\n    border-radius: 12px;\n    padding: 20px;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.02);\n}\n.info-label {\n    font-size: 10px;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    color: #7f8c8d;\n    margin-bottom: 8px;\n    font-weight: 600;\n}\n.info-value {\n    font-size: 13px;\n    font-weight: 600;\n    color: #2c3e50;\n    line-height: 1.5;\n}\n\n/* Table */\n.items-table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    margin-bottom: 30px;\n    border-radius: 12px;\n    overflow: hidden;\n    border: 1px solid #edf2f7;\n}\n.items-table th {\n    background: #f8fafc;\n    color: #64748b;\n    font-weight: 600;\n    text-transform: uppercase;\n    font-size: 10px;\n    letter-spacing: 0.5px;\n    padding: 12px 15px;\n    text-align: left;\n    border-bottom: 1px solid #edf2f7;\n}\n.items-table td {\n    padding: 12px 15px;\n    border-bottom: 1px solid #edf2f7;\n    font-size: 11px;\n    color: #334155;\n}\n.items-table tr:last-child td {\n    border-bottom: none;\n}\n.items-table tr:nth-child(even) {\n    background-color: #fcfcfc;\n}\n\n/* Totals */\n.totals-section {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 20px;\n}\n.totals-card {\n    width: 300px;\n    background: #f8fafc;\n    border-radius: 12px;\n    padding: 20px;\n}\n.total-row {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 10px;\n    font-size: 11px;\n    color: #64748b;\n}\n.total-row.grand-total {\n    margin-top: 15px;\n    padding-top: 15px;\n    border-top: 2px dashed #cbd5e1;\n    font-size: 14px;\n    font-weight: 700;\n    color: #1a237e;\n}\n\n/* Footer */\n.footer-grid {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 40px;\n    padding-top: 20px;\n    border-top: 1px solid #edf2f7;\n}\n.bank-details {\n    font-size: 10px;\n    color: #64748b;\n    background: #f8fafc;\n    padding: 15px;\n    border-radius: 8px;\n    border-left: 3px solid #1a237e;\n}\n.qr-box {\n    text-align: center;\n}\n.signatures {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 50px;\n    padding: 0 40px;\n}\n.sig-line {\n    width: 200px;\n    border-top: 1px solid #cbd5e1;\n    text-align: center;\n    padding-top: 10px;\n    font-size: 10px;\n    color: #94a3b8;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n}\n.text-center { text-align: center; }\n.text-right { text-align: right; }",
    "custom_format": 1,
    "default_print_language": "en",
    "disabled": 0,
    "doc_type": "Sales Invoice",
    "docstatus": 0,
    "doctype": "Print Format",
    "font_size": 14,
    "html": "{% set details = get_phase_2_print_format_details(doc) if get_phase_2_print_format_details is defined else None %}\n{% set is_phase_2 = True if details and details.siaf and details.siaf.qr_image_src else False %}\n\n{# Fallback for logic and Bank #}\n{% if not is_phase_2 %}{% set details = doc %}{% endif %}\n{% set bank_account = frappe.get_all(\"Bank Account\", filters={\"company\": doc.company, \"is_default\": 1}, fields=[\"bank\", \"bank_account_no\", \"iban\", \"account_name\"]) %}\n{% set bank = bank_account[0] if bank_account else {} %}\n\n{# VAT & Title Logic #}\n{% set customer_vat = frappe.db.get_value(\"Customer\", {\"name\" : doc.customer}, 'tax_id') or frappe.db.get_value(\"Customer\", {\"name\" : doc.customer}, 'custom_vat_registration_number') %}\n{% set company_vat = frappe.db.get_value(\"Company\", doc.company, \"tax_id\") or '' %}\n{% set is_simplified = not customer_vat %}\n\n{% if doc.is_return %}\n    {% set title_en, title_ar = (\"Credit Note\", \"إشعار دائن\") %}\n{% elif doc.is_debit_note %}\n    {% set title_en, title_ar = (\"Debit Note\", \"إشعار مدين\") %}\n{% else %}\n    {% set title_en, title_ar = (\"Tax Invoice\", \"فاتورة ضريبية\") %}\n{% endif %}\n\n{% if details %}\n    {% set lang = frappe.form_dict._lang or 'en' %}\n    {% set dir = 'rtl' if lang in ['ar', 'العربية'] else 'ltr' %}\n\n<div class=\"invoice-wrapper\" dir=\"{{ dir }}\">\n    <div class=\"invoice-card\">\n        <!-- Header -->\n        <div class=\"header-bg\">\n            <div class=\"company-info\">\n                <h1>{{ doc.company }}</h1>\n                <div class=\"vat-no\">VAT: {{ company_vat }}</div>\n            </div>\n            <div class=\"invoice-title\">\n                <h2>INVOICE</h2>\n                <div class=\"invoice-status\">{{ title_en }} / {{ title_ar }}</div>\n            </div>\n        </div>\n\n        <!-- Content -->\n        <div class=\"content-body\">\n            <!-- Info Grid -->\n            <div class=\"info-grid\">\n                <div class=\"info-card\">\n                    <div class=\"info-label\">Billed To / {{ _('Customer Details', 'ar') }}</div>\n                    <div class=\"info-value\">\n                        {{ doc.customer_name }}<br>\n                        {% if doc.custom_customer_arabic_name %}<span style=\"font-size: 11px; opacity: 0.8\">{{ doc.custom_customer_arabic_name }}</span><br>{% endif %}\n                        <span style=\"font-weight: 400; font-size: 11px\">{{ doc.address_display or '' }}</span>\n                        {% if customer_vat %}<br><span style=\"font-size: 11px; margin-top: 5px; display: inline-block\">VAT: {{ customer_vat }}</span>{% endif %}\n                    </div>\n                </div>\n                <div class=\"info-card\">\n                    <div class=\"info-label\">Invoice Details / {{ _('Invoice Details', 'ar') }}</div>\n                    <div class=\"info-value\">\n                        <div style=\"display: flex; justify-content: space-between; margin-bottom: 4px;\">\n                            <span># {{ doc.name }}</span>\n                        </div>\n                        <div style=\"display: flex; justify-content: space-between; margin-bottom: 4px;\">\n                            <span>{{ frappe.utils.formatdate(doc.posting_date) }}</span>\n                        </div>\n                        {% if doc.po_no %}\n                        <div style=\"display: flex; justify-content: space-between;\">\n                            <span style=\"font-weight: 400\">PO: {{ doc.po_no }}</span>\n                        </div>\n                        {% endif %}\n                    </div>\n                </div>\n            </div>\n\n            <!-- Table -->\n            <table class=\"items-table\">\n                <thead>\n                    <tr>\n                        <th class=\"text-center\" width=\"5%\">#</th>\n                        <th width=\"40%\">Item / {{ _('Item', 'ar')}}</th>\n                        <th class=\"text-center\">Qty</th>\n                        <th class=\"text-center\">Unit</th>\n                        <th class=\"text-right\">Rate</th>\n                        <th class=\"text-right\">VAT</th>\n                        <th class=\"text-right\">Total</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {% for row in doc.items %}\n                    <tr>\n                        <td class=\"text-center\">{{ row.idx }}</td>\n                        <td>\n                            <div style=\"font-weight: 600\">{{ row.item_name }}</div>\n                            {% set ar_item = frappe.db.get_value(\"Item\", row.item_code, \"item_name_arabic\") %}\n                            {% if ar_item %}<small>{{ ar_item }}</small>{% endif %}\n                        </td>\n                        <td class=\"text-center\">{{ row.qty }}</td>\n                        <td class=\"text-center\">{{ row.uom }}</td>\n                        <td class=\"text-right\">{{ frappe.utils.fmt_money(row.rate) }}</td>\n                        <td class=\"text-right\">{{ frappe.utils.fmt_money(row.tax_amount) }}</td>\n                        <td class=\"text-right\">{{ frappe.utils.fmt_money(row.total_amount) }}</td>\n                    </tr>\n                    {% endfor %}\n                </tbody>\n            </table>\n\n            <!-- Totals -->\n            <div class=\"totals-section\">\n                <div class=\"totals-card\">\n                    <div class=\"total-row\">\n                        <span>Subtotal</span>\n                        <span>{{ frappe.utils.fmt_money(doc.total, currency=doc.currency) }}</span>\n                    </div>\n                    {% if doc.discount_amount %}\n                    <div class=\"total-row\">\n                        <span>Discount</span>\n                        <span>-{{ frappe.utils.fmt_money(doc.discount_amount, currency=doc.currency) }}</span>\n                    </div>\n                    {% endif %}\n                    <div class=\"total-row\">\n                        <span>VAT (15%)</span>\n                        <span>{{ frappe.utils.fmt_money(doc.total_taxes_and_charges, currency=doc.currency) }}</span>\n                    </div>\n                    <div class=\"total-row grand-total\">\n                        <span>Grand Total</span>\n                        <span>{{ frappe.utils.fmt_money(doc.grand_total, currency=doc.currency) }}</span>\n                    </div>\n                    <div style=\"font-size: 10px; color: #94a3b8; margin-top: 10px; text-align: right; line-height: 1.4\">\n                        {{ doc.in_words }}\n                    </div>\n                </div>\n            </div>\n\n            <!-- Footer -->\n            <div class=\"footer-grid\">\n                <div class=\"bank-details\">\n                    <div class=\"info-label\" style=\"margin-bottom: 5px\">Bank Details</div>\n                    <div>{{ bank.bank or 'Bank Name' }}</div>\n                    <div>IBAN: {{ bank.iban or 'SA0000000000000000' }}</div>\n                </div>\n                <div class=\"qr-box\">\n                    {% if doc.docstatus == 1 %}\n                        {% if is_phase_2 %}\n                            <img src=\"{{ details.siaf.qr_image_src }}\" width=\"100\" height=\"100\">\n                        {% else %}\n                            <img src=\"data:image/png;base64,{{ get_zatca_phase_1_qr_for_invoice(doc.name) }}\" width=\"100\" height=\"100\">\n                        {% endif %}\n                    {% endif %}\n                </div>\n            </div>\n            \n            <div class=\"signatures\">\n                <div class=\"sig-line\">Prepared By</div>\n                <div class=\"sig-line\">Approved By</div>\n            </div>\n            \n        </div>\n    </div>\n</div>\n{% endif %}",
    "idx": 0,
    "line_breaks": 0,
    "margin_bottom": 15.0,
    "margin_left": 15.0,
    "margin_right": 15.0,
    "margin_top": 15.0,
    "modified": "2026-02-07 01:25:00.000000",
    "modified_by": "Administrator",
    "module": "KSA Compliance",
    "name": "Thunder Sales Invoice Modern Format",
    "owner": "Administrator",
    "page_number": "Hide",
    "print_format_builder": 0,
    "print_format_builder_beta": 0,
    "print_format_type": "Jinja",
    "raw_printing": 0,
    "show_section_headings": 0,
    "standard": "No"
}