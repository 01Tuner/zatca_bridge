{
    "print_format_for": "DocType",
    "absolute_value": 0,
    "align_labels_right": 0,
    "creation": "2026-02-07 01:45:00.000000",
    "css": "@page {\n    margin: 0;\n    size: 80mm auto;\n}\nbody {\n    font-family: 'Verdana', sans-serif;\n    font-size: 11px;\n    margin: 0;\n    color: #000;\n    background: #fff;\n}\n.thermal-wrapper {\n    width: 72mm;\n    margin: 0 auto;\n    padding: 2mm;\n    padding-bottom: 20px;\n}\n.header {\n    text-align: center;\n    border-bottom: 1px dashed #000;\n    padding-bottom: 5px;\n    margin-bottom: 8px;\n}\n.header h1 {\n    font-size: 14px;\n    margin: 0;\n    text-transform: uppercase;\n    font-weight: bold;\n}\n.header p {\n    margin: 2px 0;\n    font-size: 10px;\n}\n.invoice-title {\n    text-align: center;\n    font-weight: bold;\n    font-size: 13px;\n    margin: 8px 0;\n    text-transform: uppercase;\n}\n.info-row {\n    display: flex;\n    justify-content: space-between;\n    font-size: 10px;\n    margin-bottom: 2px;\n}\n.customer-info {\n    border-bottom: 1px dashed #000;\n    padding-bottom: 5px;\n    margin-bottom: 5px;\n}\n/* Items */\n.items-table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-bottom: 5px;\n    font-size: 10px;\n}\n.items-table th {\n    border-bottom: 1px solid #000;\n    text-align: left;\n    padding: 2px 0;\n    font-weight: bold;\n}\n.items-table td {\n    padding: 3px 0;\n    vertical-align: top;\n}\n.items-table .qty {\n    text-align: center;\n    width: 15%;\n}\n.items-table .price {\n    text-align: right;\n    width: 25%;\n}\n.items-table .item-name {\n    padding-right: 5px;\n}\n/* Totals */\n.totals-section {\n    border-top: 1px dashed #000;\n    padding-top: 5px;\n    font-size: 11px;\n}\n.total-row {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 2px;\n}\n.total-row.grand-total {\n    font-weight: bold;\n    font-size: 13px;\n    margin-top: 5px;\n    border-top: 1px solid #000;\n    padding-top: 5px;\n}\n.in-words {\n    margin-top: 5px;\n    font-size: 9px;\n    font-style: italic;\n}\n/* Footer */\n.qr-box {\n    text-align: center;\n    margin-top: 15px;\n    margin-bottom: 10px;\n}\n.footer {\n    text-align: center;\n    font-size: 9px;\n    margin-top: 10px;\n}",
    "custom_format": 1,
    "default_print_language": "en",
    "disabled": 0,
    "doc_type": "Sales Invoice",
    "docstatus": 0,
    "doctype": "Print Format",
    "font_size": 14,
    "html": "{% set details = get_phase_2_print_format_details(doc) if get_phase_2_print_format_details is defined else None %}\n{% set is_phase_2 = True if details and details.siaf and details.siaf.qr_image_src else False %}\n\n{# Fallback for logic #}\n{% if not is_phase_2 %}{% set details = doc %}{% endif %}\n\n{% set customer_vat = frappe.db.get_value(\"Customer\", {\"name\" : doc.customer}, 'tax_id') or frappe.db.get_value(\"Customer\", {\"name\" : doc.customer}, 'custom_vat_registration_number') %}\n{% set company_vat = frappe.db.get_value(\"Company\", doc.company, \"tax_id\") or '' %}\n\n{% if doc.is_return %}\n    {% set title = \"Credit Note / إشعار دائن\" %}\n{% elif doc.is_debit_note %}\n    {% set title = \"Debit Note / إشعار مدين\" %}\n{% else %}\n    {% set title = \"Tax Invoice / فاتورة ضريبية\" %}\n{% endif %}\n\n<div class=\"thermal-wrapper\">\n    <!-- Header -->\n    <div class=\"header\">\n        <h1>{{ doc.company }}</h1>\n        <p>{{ frappe.db.get_value(\"Company\", doc.company, \"country\") or '' }}</p>\n        {% if company_vat %}<p>VAT: {{ company_vat }}</p>{% endif %}\n    </div>\n\n    <div class=\"invoice-title\">{{ title }}</div>\n\n    <!-- Invoice Info -->\n    <div class=\"info-section\">\n        <div class=\"info-row\">\n            <span>Inv #: {{ doc.name }}</span>\n            <span>{{ frappe.utils.formatdate(doc.posting_date) }}</span>\n        </div>\n        <div class=\"info-row\">\n            <span>Time: {{ frappe.utils.get_datetime(doc.creation).strftime('%H:%M') }}</span>\n            <span>{{ doc.owner }}</span>\n        </div>\n    </div>\n\n    <!-- Customer Info -->\n    <div class=\"customer-info\">\n        <div class=\"info-row\" style=\"font-weight: bold\">\n            <span>Customer:</span>\n        </div>\n        <div style=\"font-size: 10px; margin-bottom: 2px\">{{ doc.customer_name }}</div>\n        {% if customer_vat %}\n        <div style=\"font-size: 10px\">VAT: {{ customer_vat }}</div>\n        {% endif %}\n    </div>\n\n    <!-- Items -->\n    <table class=\"items-table\">\n        <thead>\n            <tr>\n                <th>Item</th>\n                <th class=\"qty\">Qty</th>\n                <th class=\"price\">Total</th>\n            </tr>\n        </thead>\n        <tbody>\n            {% for row in doc.items %}\n            <tr>\n                <td class=\"item-name\">\n                    {{ row.item_name }}\n                    {% set ar_item = frappe.db.get_value(\"Item\", row.item_code, \"item_name_arabic\") %}\n                    {% if ar_item %}<br><small>{{ ar_item }}</small>{% endif %}\n                </td>\n                <td class=\"qty\">{{ row.qty }}</td>\n                <td class=\"price\">{{ frappe.utils.fmt_money(row.total_amount) }}</td>\n            </tr>\n            {% endfor %}\n        </tbody>\n    </table>\n\n    <!-- Totals -->\n    <div class=\"totals-section\">\n        <div class=\"total-row\">\n            <span>Subtotal</span>\n            <span>{{ frappe.utils.fmt_money(doc.total, currency=doc.currency) }}</span>\n        </div>\n        {% if doc.discount_amount %}\n        <div class=\"total-row\">\n            <span>Discount</span>\n            <span>-{{ frappe.utils.fmt_money(doc.discount_amount, currency=doc.currency) }}</span>\n        </div>\n        {% endif %}\n        <div class=\"total-row\">\n            <span>VAT (15%)</span>\n            <span>{{ frappe.utils.fmt_money(doc.total_taxes_and_charges, currency=doc.currency) }}</span>\n        </div>\n        <div class=\"total-row grand-total\">\n            <span>Grand Total</span>\n            <span>{{ frappe.utils.fmt_money(doc.grand_total, currency=doc.currency) }}</span>\n        </div>\n        <!-- <div class=\"in-words\">{{ doc.in_words }}</div> -->\n    </div>\n\n    <!-- QR Code -->\n    <div class=\"qr-box\">\n        {% if doc.docstatus == 1 %}\n            {% if is_phase_2 %}\n                <img src=\"{{ details.siaf.qr_image_src }}\" width=\"130\" height=\"130\" style=\"display: block; margin: 0 auto;\">\n            {% else %}\n                <img src=\"data:image/png;base64,{{ get_zatca_phase_1_qr_for_invoice(doc.name) }}\" width=\"130\" height=\"130\" style=\"display: block; margin: 0 auto;\">\n            {% endif %}\n        {% endif %}\n    </div>\n\n    <!-- Footer -->\n    <div class=\"footer\">\n        <p>Thank you for your business!</p>\n    </div>\n</div>",
    "idx": 0,
    "line_breaks": 0,
    "margin_bottom": 0.0,
    "margin_left": 0.0,
    "margin_right": 0.0,
    "margin_top": 0.0,
    "modified": "2026-02-07 01:45:00.000000",
    "modified_by": "Administrator",
    "module": "KSA Compliance",
    "name": "Thunder Sales Invoice Thermal Format - 80",
    "owner": "Administrator",
    "page_number": "Hide",
    "print_format_builder": 0,
    "print_format_builder_beta": 0,
    "print_format_type": "Jinja",
    "raw_printing": 0,
    "show_section_headings": 0,
    "standard": "No"
}